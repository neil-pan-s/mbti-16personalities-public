import{ad as H,B as J,w as _,o as G,ae as K,j as R,af as Q,ag as Z,ah as x,k as O,ai as ee,A as L,p as k,q as N,a1 as A,K as y,s as v,v as e,a2 as oe,D as I,a0 as b,a3 as q,aj as se,E as ae,W as z,x as U,_ as V,ak as te,al as le,am as ne,P as re,an as ie,u as de,r as j,ao as ce,J as ue,T as fe,ap as me,aq as ve,ar as pe,as as ge,V as he,at as be,au as ye,av as Ce,X as Ee}from"./app-DX2MzC47.js";const we=(...l)=>a=>{l.forEach(n=>{H(n)?n(a):n.value=a})},ke=(l,a,n,C)=>{let d={offsetX:0,offsetY:0};const f=m=>{const E=m.clientX,w=m.clientY,{offsetX:p,offsetY:g}=d,c=l.value.getBoundingClientRect(),t=c.left,h=c.top,D=c.width,F=c.height,T=document.documentElement.clientWidth,S=document.documentElement.clientHeight,B=-t+p,P=-h+g,X=T-t-D+p,Y=S-h-F+g,u=o=>{let r=p+o.clientX-E,i=g+o.clientY-w;C!=null&&C.value||(r=Math.min(Math.max(r,B),X),i=Math.min(Math.max(i,P),Y)),d={offsetX:r,offsetY:i},l.value&&(l.value.style.transform=`translate(${K(r)}, ${K(i)})`)},M=()=>{document.removeEventListener("mousemove",u),document.removeEventListener("mouseup",M)};document.addEventListener("mousemove",u),document.addEventListener("mouseup",M)},$=()=>{a.value&&l.value&&a.value.addEventListener("mousedown",f)},s=()=>{a.value&&l.value&&a.value.removeEventListener("mousedown",f)};J(()=>{_(()=>{n.value?$():s()})}),G(()=>{s()})},W=Symbol("dialogInjectionKey"),$e=["aria-level"],Le=["aria-label"],De=["id"],Te=R({name:"ElDialogContent"}),Me=R({...Te,props:Q,emits:Z,setup(l){const a=l,{t:n}=x(),{Close:C}=te,{dialogRef:d,headerRef:f,bodyId:$,ns:s,style:m}=O(W),{focusTrapRef:E}=O(ee),w=L(()=>[s.b(),s.is("fullscreen",a.fullscreen),s.is("draggable",a.draggable),s.is("align-center",a.alignCenter),{[s.m("center")]:a.center}]),p=we(E,d),g=L(()=>a.draggable),c=L(()=>a.overflow);return ke(d,f,g,c),(t,h)=>(k(),N("div",{ref:e(p),class:v(e(w)),style:U(e(m)),tabindex:"-1"},[A("header",{ref_key:"headerRef",ref:f,class:v([e(s).e("header"),{"show-close":t.showClose}])},[y(t.$slots,"header",{},()=>[A("span",{role:"heading","aria-level":t.ariaLevel,class:v(e(s).e("title"))},oe(t.title),11,$e)]),t.showClose?(k(),N("button",{key:0,"aria-label":e(n)("el.dialog.close"),class:v(e(s).e("headerbtn")),type:"button",onClick:h[0]||(h[0]=D=>t.$emit("close"))},[I(e(ae),{class:v(e(s).e("close"))},{default:b(()=>[(k(),q(se(t.closeIcon||e(C))))]),_:1},8,["class"])],10,Le)):z("v-if",!0)],2),A("div",{id:e($),class:v(e(s).e("body"))},[y(t.$slots,"default")],10,De),t.$slots.footer?(k(),N("footer",{key:0,class:v(e(s).e("footer"))},[y(t.$slots,"footer")],2)):z("v-if",!0)],6))}});var Ae=V(Me,[["__file","dialog-content.vue"]]);const Ie=["aria-label","aria-labelledby","aria-describedby"],Re=R({name:"ElDialog",inheritAttrs:!1}),Fe=R({...Re,props:le,emits:ne,setup(l,{expose:a}){const n=l,C=re();ie({scope:"el-dialog",from:"the title slot",replacement:"the header slot",version:"3.0.0",ref:"https://element-plus.org/en-US/component/dialog.html#slots"},L(()=>!!C.title));const d=de("dialog"),f=j(),$=j(),s=j(),{visible:m,titleId:E,bodyId:w,style:p,overlayDialogStyle:g,rendered:c,zIndex:t,afterEnter:h,afterLeave:D,beforeLeave:F,handleClose:T,onModalClick:S,onOpenAutoFocus:B,onCloseAutoFocus:P,onCloseRequested:X,onFocusoutPrevented:Y}=ce(n,f);ue(W,{dialogRef:f,headerRef:$,bodyId:w,ns:d,rendered:c,style:p});const u=Ce(S),M=L(()=>n.draggable&&!n.fullscreen);return a({visible:m,dialogContentRef:s}),(o,r)=>(k(),q(ye,{to:o.appendTo,disabled:o.appendTo!=="body"?!1:!o.appendToBody},[I(be,{name:"dialog-fade",onAfterEnter:e(h),onAfterLeave:e(D),onBeforeLeave:e(F),persisted:""},{default:b(()=>[fe(I(e(me),{"custom-mask-event":"",mask:o.modal,"overlay-class":o.modalClass,"z-index":e(t)},{default:b(()=>[A("div",{role:"dialog","aria-modal":"true","aria-label":o.title||void 0,"aria-labelledby":o.title?void 0:e(E),"aria-describedby":e(w),class:v(`${e(d).namespace.value}-overlay-dialog`),style:U(e(g)),onClick:r[0]||(r[0]=(...i)=>e(u).onClick&&e(u).onClick(...i)),onMousedown:r[1]||(r[1]=(...i)=>e(u).onMousedown&&e(u).onMousedown(...i)),onMouseup:r[2]||(r[2]=(...i)=>e(u).onMouseup&&e(u).onMouseup(...i))},[I(e(ve),{loop:"",trapped:e(m),"focus-start-el":"container",onFocusAfterTrapped:e(B),onFocusAfterReleased:e(P),onFocusoutPrevented:e(Y),onReleaseRequested:e(X)},{default:b(()=>[e(c)?(k(),q(Ae,pe({key:0,ref_key:"dialogContentRef",ref:s},o.$attrs,{center:o.center,"align-center":o.alignCenter,"close-icon":o.closeIcon,draggable:e(M),overflow:o.overflow,fullscreen:o.fullscreen,"show-close":o.showClose,title:o.title,"aria-level":o.headerAriaLevel,onClose:e(T)}),ge({header:b(()=>[o.$slots.title?y(o.$slots,"title",{key:1}):y(o.$slots,"header",{key:0,close:e(T),titleId:e(E),titleClass:e(d).e("title")})]),default:b(()=>[y(o.$slots,"default")]),_:2},[o.$slots.footer?{name:"footer",fn:b(()=>[y(o.$slots,"footer")])}:void 0]),1040,["center","align-center","close-icon","draggable","overflow","fullscreen","show-close","title","aria-level","onClose"])):z("v-if",!0)]),_:3},8,["trapped","onFocusAfterTrapped","onFocusAfterReleased","onFocusoutPrevented","onReleaseRequested"])],46,Ie)]),_:3},8,["mask","overlay-class","z-index"]),[[he,e(m)]])]),_:3},8,["onAfterEnter","onAfterLeave","onBeforeLeave"])],8,["to","disabled"]))}});var Se=V(Fe,[["__file","dialog.vue"]]);const Pe=Ee(Se);export{Pe as E};
