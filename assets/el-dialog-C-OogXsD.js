import{k as j,l as J,m as G,n as Q,q as U,f as R,u as Z,v as _,x,y as q,F as ee,z as $,o as k,b as N,a as A,r as y,A as v,B as e,t as oe,h as I,w as b,c as K,C as se,E as te,e as O,D as H,G as V,H as ae,I as le,J as ne,K as re,L as ie,M as de,N as z,O as ce,P as ue,Q as fe,R as me,S as ve,T as pe,U as ge,V as he,W as be,X as ye,Y as Ce,Z as Ee}from"./index-8wHEHWvV.js";const we=(...l)=>t=>{l.forEach(n=>{j(n)?n(t):n.value=t})},ke=(l,t,n,C)=>{let d={offsetX:0,offsetY:0};const f=m=>{const E=m.clientX,w=m.clientY,{offsetX:p,offsetY:g}=d,c=l.value.getBoundingClientRect(),a=c.left,h=c.top,D=c.width,F=c.height,M=document.documentElement.clientWidth,S=document.documentElement.clientHeight,B=-a+p,Y=-h+g,P=M-a-D+p,X=S-h-F+g,u=o=>{let r=p+o.clientX-E,i=g+o.clientY-w;C!=null&&C.value||(r=Math.min(Math.max(r,B),P),i=Math.min(Math.max(i,Y),X)),d={offsetX:r,offsetY:i},l.value&&(l.value.style.transform=`translate(${U(r)}, ${U(i)})`)},T=()=>{document.removeEventListener("mousemove",u),document.removeEventListener("mouseup",T)};document.addEventListener("mousemove",u),document.addEventListener("mouseup",T)},L=()=>{t.value&&l.value&&t.value.addEventListener("mousedown",f)},s=()=>{t.value&&l.value&&t.value.removeEventListener("mousedown",f)};J(()=>{G(()=>{n.value?L():s()})}),Q(()=>{s()})},W=Symbol("dialogInjectionKey"),Le=["aria-level"],$e=["aria-label"],De=["id"],Me=R({name:"ElDialogContent"}),Te=R({...Me,props:Z,emits:_,setup(l){const t=l,{t:n}=x(),{Close:C}=ae,{dialogRef:d,headerRef:f,bodyId:L,ns:s,style:m}=q(W),{focusTrapRef:E}=q(ee),w=$(()=>[s.b(),s.is("fullscreen",t.fullscreen),s.is("draggable",t.draggable),s.is("align-center",t.alignCenter),{[s.m("center")]:t.center}]),p=we(E,d),g=$(()=>t.draggable),c=$(()=>t.overflow);return ke(d,f,g,c),(a,h)=>(k(),N("div",{ref:e(p),class:v(e(w)),style:H(e(m)),tabindex:"-1"},[A("header",{ref_key:"headerRef",ref:f,class:v([e(s).e("header"),{"show-close":a.showClose}])},[y(a.$slots,"header",{},()=>[A("span",{role:"heading","aria-level":a.ariaLevel,class:v(e(s).e("title"))},oe(a.title),11,Le)]),a.showClose?(k(),N("button",{key:0,"aria-label":e(n)("el.dialog.close"),class:v(e(s).e("headerbtn")),type:"button",onClick:h[0]||(h[0]=D=>a.$emit("close"))},[I(e(te),{class:v(e(s).e("close"))},{default:b(()=>[(k(),K(se(a.closeIcon||e(C))))]),_:1},8,["class"])],10,$e)):O("v-if",!0)],2),A("div",{id:e(L),class:v(e(s).e("body"))},[y(a.$slots,"default")],10,De),a.$slots.footer?(k(),N("footer",{key:0,class:v(e(s).e("footer"))},[y(a.$slots,"footer")],2)):O("v-if",!0)],6))}});var Ae=V(Te,[["__file","dialog-content.vue"]]);const Ie=["aria-label","aria-labelledby","aria-describedby"],Re=R({name:"ElDialog",inheritAttrs:!1}),Fe=R({...Re,props:le,emits:ne,setup(l,{expose:t}){const n=l,C=re();ie({scope:"el-dialog",from:"the title slot",replacement:"the header slot",version:"3.0.0",ref:"https://element-plus.org/en-US/component/dialog.html#slots"},$(()=>!!C.title));const d=de("dialog"),f=z(),L=z(),s=z(),{visible:m,titleId:E,bodyId:w,style:p,overlayDialogStyle:g,rendered:c,zIndex:a,afterEnter:h,afterLeave:D,beforeLeave:F,handleClose:M,onModalClick:S,onOpenAutoFocus:B,onCloseAutoFocus:Y,onCloseRequested:P,onFocusoutPrevented:X}=ce(n,f);ue(W,{dialogRef:f,headerRef:L,bodyId:w,ns:d,rendered:c,style:p});const u=Ce(S),T=$(()=>n.draggable&&!n.fullscreen);return t({visible:m,dialogContentRef:s}),(o,r)=>(k(),K(ye,{to:o.appendTo,disabled:o.appendTo!=="body"?!1:!o.appendToBody},[I(be,{name:"dialog-fade",onAfterEnter:e(h),onAfterLeave:e(D),onBeforeLeave:e(F),persisted:""},{default:b(()=>[fe(I(e(me),{"custom-mask-event":"",mask:o.modal,"overlay-class":o.modalClass,"z-index":e(a)},{default:b(()=>[A("div",{role:"dialog","aria-modal":"true","aria-label":o.title||void 0,"aria-labelledby":o.title?void 0:e(E),"aria-describedby":e(w),class:v(`${e(d).namespace.value}-overlay-dialog`),style:H(e(g)),onClick:r[0]||(r[0]=(...i)=>e(u).onClick&&e(u).onClick(...i)),onMousedown:r[1]||(r[1]=(...i)=>e(u).onMousedown&&e(u).onMousedown(...i)),onMouseup:r[2]||(r[2]=(...i)=>e(u).onMouseup&&e(u).onMouseup(...i))},[I(e(ve),{loop:"",trapped:e(m),"focus-start-el":"container",onFocusAfterTrapped:e(B),onFocusAfterReleased:e(Y),onFocusoutPrevented:e(X),onReleaseRequested:e(P)},{default:b(()=>[e(c)?(k(),K(Ae,pe({key:0,ref_key:"dialogContentRef",ref:s},o.$attrs,{center:o.center,"align-center":o.alignCenter,"close-icon":o.closeIcon,draggable:e(T),overflow:o.overflow,fullscreen:o.fullscreen,"show-close":o.showClose,title:o.title,"aria-level":o.headerAriaLevel,onClose:e(M)}),ge({header:b(()=>[o.$slots.title?y(o.$slots,"title",{key:1}):y(o.$slots,"header",{key:0,close:e(M),titleId:e(E),titleClass:e(d).e("title")})]),default:b(()=>[y(o.$slots,"default")]),_:2},[o.$slots.footer?{name:"footer",fn:b(()=>[y(o.$slots,"footer")])}:void 0]),1040,["center","align-center","close-icon","draggable","overflow","fullscreen","show-close","title","aria-level","onClose"])):O("v-if",!0)]),_:3},8,["trapped","onFocusAfterTrapped","onFocusAfterReleased","onFocusoutPrevented","onReleaseRequested"])],46,Ie)]),_:3},8,["mask","overlay-class","z-index"]),[[he,e(m)]])]),_:3},8,["onAfterEnter","onAfterLeave","onBeforeLeave"])],8,["to","disabled"]))}});var Se=V(Fe,[["__file","dialog.vue"]]);const Ye=Ee(Se);export{Ye as E};
